<h2 mat-dialog-title>Выбор учеников</h2>
<mat-spinner *ngIf="!isPageLoaded"></mat-spinner>
<mat-dialog-content *ngIf="isPageLoaded">
  <input type="text" [(ngModel)]="searchPupil" (input)="applyFilter()" placeholder="Введите данные ученика">
  <table mat-table [dataSource]="pupils" matSort>

    <ng-container matColumnDef="select">
      <th mat-header-cell *matHeaderCellDef>Выбор</th>
      <td mat-cell *matCellDef="let element">
        <mat-checkbox (click)="$event.stopPropagation()"
                      (change)="$event ? selection.toggle(element) : null"
                      [checked]="selection.isSelected(element)"></mat-checkbox>
      </td>
    </ng-container>

    <ng-container matColumnDef="surname">
      <th mat-header-cell *matHeaderCellDef> Фамилия </th>
      <td mat-cell *matCellDef="let element"> {{element.surname}} </td>
    </ng-container>

    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef> Имя </th>
      <td mat-cell *matCellDef="let element"> {{element.name}} </td>
    </ng-container>

    <ng-container matColumnDef="patronymic">
      <th mat-header-cell *matHeaderCellDef> Отчество </th>
      <td mat-cell *matCellDef="let element"> {{element.patronymic}} </td>
    </ng-container>

    <ng-container matColumnDef="username">
      <th mat-header-cell *matHeaderCellDef> Потча </th>
      <td mat-cell *matCellDef="let element"> {{element.username}} </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>

<!--  <mat-selection-list>-->
<!--    <mat-list-option *ngFor="let pupil of pupils">{{pupil.surname + ' ' +-->
<!--      pupil.name + ' ' + pupil.patronymic}}</mat-list-option>-->
<!--  </mat-selection-list>-->
</mat-dialog-content>
<mat-dialog-actions>
  <button mat-dialog-close>Отмена</button>
  <button mat-button (click)="onSave()">Сохранить</button>
</mat-dialog-actions>

