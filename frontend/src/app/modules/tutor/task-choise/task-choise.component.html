<div class="container">
  <div *ngIf="!tasksUpload" class="row spinner-border" role="status"></div>
  <div *ngFor="let task of allTasks let i = index">
    <button
      type="button"
      class="btn btn-primary col-10"
      style="text-align: start"
      (click)="collapse.toggle()"
      [attr.aria-expanded]="!isCollapsed[i]"
      aria-controls="collapseExample"
    >
      {{ task.name }}
    </button>

    <div #collapse="ngbCollapse" [(ngbCollapse)]="isCollapsed[i]">
      <div class="card">
        <div class="card-body"><b>Название: </b>{{ task.name }}</div>
        <div class="card-body"><b>Текст: </b>{{ task.taskText }}</div>
        <div class="card-body"><b>Тип ответа: </b>{{ task.answerType }}</div>
        <div class="card-body"><b>Ответы: </b>{{ task.answers }}</div>
        <div class="card-body"><b>Тема 1: </b>{{ task.level1 }}</div>
        <div class="card-body"><b>Тема 2: </b>{{ task.level2 }}</div>
        <div class="card-body">
          <b>Картинки: </b>
          <div *ngFor="let task of allTasks">
            <div *ngFor="let image of task.files">
              <img *ngIf="checkImage(image)" class="m-2 border-opacity-25 border border-2"
                   [src]="image" width="200px" height="auto" alt="">
              <a *ngIf="!checkImage(image)" href="{{image}}" download><img src="assets/document.png" width="200px"></a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
